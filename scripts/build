set -euo pipefail

./scripts/regen_tags
# For now, we'll regenerate the render code every build. This might have to change though.
mkdir -p src/generated
mkdir -p bin/
VIRTUAL_ENV_DISABLE_PROMPT=true . .env/bin/activate
python py/generate_block_render_code.py
deactivate
g++ src/main.cpp include/glad.c -lglfw -lGL -lX11 -lpthread -lXrandr -lXi -ldl -isystem include --std=c++11 -g -o bin/dig -pedantic -Wall -Wshadow -Wpointer-arith -Wcast-qual -Werror
